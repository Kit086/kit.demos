代码拷贝自：https://github.com/zoran-horvat/optional